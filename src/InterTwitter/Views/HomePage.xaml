<?xml version="1.0" encoding="UTF-8"?>
<views:BaseContentPage  xmlns:views="clr-namespace:InterTwitter.Views"
                        xmlns="http://xamarin.com/schemas/2014/forms"
                        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                        xmlns:controls="clr-namespace:InterTwitter.Controls"
                        x:Class="InterTwitter.Views.HomePage"
                        IconImageSource="{Binding Icon}"
                        BackgroundColor="{StaticResource bg_1}">

    <Grid>

        <controls:CustomCollectionView x:Name="customCollectionView"
                                       ItemsSource="{Binding Items}"
                                       BackgroundColor="{StaticResource bg_1}"
                                       SelectionMode="None"
                                       IsTabStop="True">

            <CollectionView.Header>

                <ContentView>

                    <Grid HeightRequest="61">

                        <BoxView HeightRequest="1"
                                 BackgroundColor="{StaticResource bg_3}"
                                 HorizontalOptions="FillAndExpand"
                                 VerticalOptions="EndAndExpand"/>
                        
                    </Grid>
                    
                </ContentView>

            </CollectionView.Header>

            <CollectionView.ItemTemplate>

                <DataTemplate>

                    <StackLayout HeightRequest="70">

                        <Label Text="{Binding Content}"
                               BackgroundColor="{StaticResource bg_1}"
                               VerticalOptions="CenterAndExpand"
                               HorizontalOptions="CenterAndExpand"/>
                        
                        <BoxView HeightRequest="1"
                                 BackgroundColor="{StaticResource bg_3}"
                                 HorizontalOptions="FillAndExpand"
                                 VerticalOptions="EndAndExpand"/>
                        
                    </StackLayout>

                </DataTemplate>

            </CollectionView.ItemTemplate>

        </controls:CustomCollectionView>

        <controls:HomePageNavigationBar  VerticalOptions="Start"
                                         HorizontalOptions="FillAndExpand"
                                         MovingState="{Binding Source={x:Reference customCollectionView}, Path=MovingState}"
                                         OpenMenuCommand="{Binding OpenMenuCommand}"/>

            <controls:MovingFrame VerticalOptions="End"
                                  HorizontalOptions="End"
                                  BackgroundColor="{StaticResource bg_2}"
                                  WidthRequest="65"
                                  HeightRequest="65"
                                  CornerRadius="45"
                                  Margin="20"
                                  Padding="0"
                                  HasShadow="True"
                                  MovingState="{Binding Source={x:Reference customCollectionView}, Path=MovingState}">

            <controls:ClickableContentView Padding="15">

                <Image Source="ic_add_white.png"
                       BackgroundColor="Transparent"/>
                
            </controls:ClickableContentView>

        </controls:MovingFrame>

    </Grid>
    
</views:BaseContentPage>
