<?xml version="1.0" encoding="UTF-8"?>
<views:BaseContentPage  xmlns:views="clr-namespace:InterTwitter.Views"
                        xmlns="http://xamarin.com/schemas/2014/forms"
                        xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                        xmlns:controls="clr-namespace:InterTwitter.Controls"
                        xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
                        xmlns:fftransformations="clr-namespace:FFImageLoading.Transformations;assembly=FFImageLoading.Transformations"
                        xmlns:converters="clr-namespace:InterTwitter.Converters"
                        x:Class="InterTwitter.Views.AddPostPage">

    <ContentPage.Resources>

        <ResourceDictionary>

            <converters:StringToBoolConverter x:Key="stringToBool" />

        </ResourceDictionary>

    </ContentPage.Resources>

    <controls:KeyboardView>

        <controls:KeyboardView.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </controls:KeyboardView.RowDefinitions>

        <controls:KeyboardView.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </controls:KeyboardView.ColumnDefinitions>

        <!--CANCEL BUTTON-->
        <controls:ClickableContentView Grid.Row="0"
                                       Grid.Column="0"
                                       Margin="10"
                                       Command="{Binding CancelCommand}">

            <Image Source="ic_cansell"
                   Aspect="AspectFill"/>

        </controls:ClickableContentView>

        <!--ADD POST BUTTON-->
        <Button Grid.Row="0"
                Grid.Column="1"
                HeightRequest="34"
                WidthRequest="104"
                CornerRadius="17"
                HorizontalOptions="End"
                VerticalOptions="Center"
                Text="Post"
                TextColor="White"
                Margin="10"
                BackgroundColor="#66696E">

            <Button.Triggers>

                <DataTrigger TargetType="Button"
                             Binding="{Binding OwlText, Converter={StaticResource stringToBool}}"
                             Value="true">

                    <Setter Property="BackgroundColor" Value="#2356C5"/>

                </DataTrigger>

            </Button.Triggers>

        </Button>

        <!--PROFILE IMAGE-->
        <ffimageloading:CachedImage Source="pic_logo_small"
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    VerticalOptions="Start"
                                    HorizontalOptions="Center">

            <ffimageloading:CachedImage.Transformations>
                <fftransformations:CircleTransformation/>
            </ffimageloading:CachedImage.Transformations>

        </ffimageloading:CachedImage>

        <!--POST EDITOR-->
        <Editor Grid.Row="1"
                Grid.Column="1"
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand"
                Placeholder="Start writing"
                PlaceholderColor="#66696E"
                Text="{Binding OwlText, Mode=TwoWay}"
                x:Name="editor"/>

        <StackLayout Grid.Column="0"
                     Grid.ColumnSpan="2"
                     Grid.Row="2">

            <BoxView HeightRequest="1"
                     Color="#DEDFE1"
                     VerticalOptions="StartAndExpand"/>

            <StackLayout Orientation="Horizontal">

                <controls:ClickableContentView Margin="10"
                                               Command="{Binding MediaCommand}">

                    <Image Source="ic_media"
                           Aspect="AspectFill"/>

                </controls:ClickableContentView>

                <controls:ClickableContentView Margin="10"
                                               Command="{Binding GifCommand}">

                    <Image Source="ic_gif"/>

                </controls:ClickableContentView>

                <controls:ClickableContentView Margin="10"
                                               Command="{Binding VideoCommand}">

                    <Image Source="ic_video"/>

                </controls:ClickableContentView>

            </StackLayout>

        </StackLayout>

    </controls:KeyboardView>

</views:BaseContentPage>
